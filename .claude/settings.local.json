{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Migrate Express backend to Vercel Serverless Functions\n\nReplace the separate Express server \\(server/\\) with Vercel Serverless\nFunctions \\(api/\\) so the frontend and API deploy as a single project.\nKey changes:\n- Port all Express routes to api/ serverless functions\n- Replace multer disk uploads with @vercel/blob\n- Update all frontend API URLs from http://localhost:3001/api to /api\n- AdminContext now uploads images to Vercel Blob then sends JSON\n- Add vercel.json with SPA rewrites\n- Move setup-db.js to scripts/\n- Add server deps to root package.json\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(gh api:*)",
      "Bash(ls \"C:\\\\Users\\\\bathini bona\\\\Documents\\\\lasting-impressions\\\\api\"\" 2>nul || dir /b \"C:Usersbathini bonaDocumentslasting-impressionsapi\"\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Consolidate serverless functions from 19 to 10 for Vercel Hobby plan\n\nMerge each resource''s index.js + [id].js into a single [[...params]].js\ncatch-all route, and merge auth''s login/me/register into [[...action]].js.\nThis brings the function count well under Vercel''s 12-function Hobby limit.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Add customer accounts and fix admin login upsert\n\n- Fix admin login by changing setup-db to upsert \\(reset password on re-run\\)\n- Add customer signup, login, and profile endpoints to auth catch-all\n- Add customer_id support to orders and bookings \\(nullable, for logged-in users\\)\n- Create CustomerAuthContext with separate token storage from admin auth\n- Add customer login, signup, and account dashboard pages\n- Update Navbar to show sign-in/account links for customers\n- Update Checkout to pre-fill from customer profile and create orders via API\n- Add phone column to users, customer_id to orders and bookings schema\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push)",
      "Bash(npm run setup-db:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Migrate auth from custom JWT to Supabase Auth\n\n- Replace bcryptjs/jsonwebtoken with Supabase Auth for all user authentication\n- Add Supabase admin client \\(api/_lib/supabase.js\\) and frontend client \\(src/lib/supabase.ts\\)\n- Rewrite api/_lib/auth.js to verify Supabase tokens via getUser\\(\\)\n- Update all API endpoints to await async requireAuth/authenticate calls\n- Rewrite setup-db.js to seed admin via Supabase Admin API \\(Neon for data, Supabase for auth\\)\n- Remove users table from Neon; customer_id columns are now plain UUIDs \\(cross-database\\)\n- Update .env.example with Supabase env vars\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
